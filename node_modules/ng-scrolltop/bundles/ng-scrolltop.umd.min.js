!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-scrolltop",["exports","@angular/core","@angular/common"],e):e((t=t||self)["ng-scrolltop"]={},t.ng.core,t.ng.common)}(this,function(t,e,o){"use strict";var i=function(){function t(){var t=this;this.isDevMode=e.isDevMode(),this.isWindow="undefined"!=typeof window,this._init=!1,this.lastY=0,this.ticking=!1,this.log=function(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e&&t.isDevMode&&console.log(e,o)},this.handleScroll=function(e){t.ticking||(window.requestAnimationFrame(function(){t.updateLastY(),t.ticking=!1}),t.ticking=!0)}}return Object.defineProperty(t.prototype,"currentPositionY",{get:function(){return this._elementToScroll?this._elementToScroll.scrollTop:window.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return Math.ceil(this.lastY)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showIcon",{get:function(){return this.isWindow&&this.lastY>500},enumerable:!0,configurable:!0}),t.prototype.setDevMode=function(){this.isDevMode=!0},t.prototype.init=function(t){this.isWindow&&(this.destroy(),this._elementToScroll=null,t&&(this._elementToScroll=document.querySelector("#"+t)),this._host=this._elementToScroll||window,this._host.addEventListener("scroll",this.handleScroll),this.log("'NgScrolltopService' to use "+(this._elementToScroll?"element":"window"),t||"")),this._init=!0},t.prototype.destroy=function(){this.isWindow&&this._host&&this._host.removeEventListener("scroll",this.handleScroll)},t.prototype.scrollABit=function(t){this._elementToScroll?this._elementToScroll.scrollTop=t:window.scroll(0,t)},t.prototype.updateLastY=function(){if(this._init){var t=this.currentPositionY;t!==this.lastY&&(this.lastY=t)}},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),n=function(t,e,o){t&&e&&(t.style[e]=o||"")},r=function(){function t(t){this.service=t,this._size="48px",this.sizeInner="24"}return Object.defineProperty(t.prototype,"bottom",{set:function(t){this._bottom=t,n(this.icon,"bottom",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"background",{set:function(t){this._background=t,n(this.icon,"background",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementId",{set:function(t){this._elementId=t,this.service.init(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{set:function(t){this._size=t,n(this.icon,"width",t),n(this.icon,"height",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{set:function(t){this._fill=t,n(this.svg,"fill",t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.service.init(this._elementId),this.icon=document.querySelector("div.scroll-top:not(.dev)"),this.svg=document.querySelector("div.scroll-top:not(.dev) svg"),this.icon?(n(this.icon,"bottom",this._bottom),n(this.icon,"background",this._background),n(this.icon,"width",this._size),n(this.icon,"height",this._size),n(this.svg,"fill",this._fill)):this.service.log("NgScrolltopComponent failed to find icon element, so any inputs will be ignored"),this.service.log("NgScrolltopComponent("+this.service.isWindow+", "+this._bottom+", "+this._background+", "+this._elementId+")",this.icon&&this.icon.style)},t.prototype.ngOnDestroy=function(){this.service.destroy()},t.decorators=[{type:e.Component,args:[{selector:"scrolltop",template:'\n<div class="scroll-top" blScrolltop\n  [ngClass]="{\'show-icon\': service.showIcon}">\n  <svg xmlns="http://www.w3.org/2000/svg" [attr.width]="sizeInner" [attr.height]="sizeInner" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\n</div>\n\n<div class="scroll-top dev" *ngIf="service.isDevMode">\n  {{service.info}}\n</div>\n  ',styles:["\n  .scroll-top {\n    position: fixed;\n    bottom: 12px;\n    left: 12px;\n    height: 48px;\n    width: 48px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 50%;\n    background: #333;\n    transform: rotate(-90deg);\n    opacity: 0;\n    visibility: hidden;\n    transition: visibility 1.0s linear, opacity 1.0s linear;\n  }\n  .scroll-top:hover {\n    cursor: pointer;\n  }\n  .scroll-top.show-icon {\n    visibility: visible;\n    opacity: 0.3;\n  }\n  .scroll-top.dev {\n    bottom: 150px;\n    visibility: visible;\n    opacity: 0.5;\n    transform: none;\n    color: #fff;\n  }\n    "]}]}],t.ctorParameters=function(){return[{type:i}]},t.propDecorators={bottom:[{type:e.Input}],background:[{type:e.Input}],elementId:[{type:e.Input}],size:[{type:e.Input}],sizeInner:[{type:e.Input}],fill:[{type:e.Input}]},t}(),s=function(){function t(t,e){this.service=t,this.ngZone=e,this.startTime=null,this.startTop=null,this.progress=0,this.easing=function(t){return t<.5?Math.pow(2*t,2)/2:1-Math.pow(2*(1-t),2)/2},this.scrollABit=this.scrollABit.bind(this)}return t.prototype.onclick=function(){var t=this;this.startTop=this.service.currentPositionY,this.startTime=null,this.ngZone.runOutsideAngular(function(){window.requestAnimationFrame(t.scrollABit)}),this.service.log("NgScrolltopDirective click")},t.prototype.scrollABit=function(t){var e=this;this.startTime||(this.startTime=t),this.progress=t-this.startTime;var o=this.progress>=1e3?1:this.easing(this.progress/1e3),i=this.startTop-Math.ceil(this.startTop*o);this.service.scrollABit(i),o<1&&this.ngZone.runOutsideAngular(function(){window.requestAnimationFrame(e.scrollABit)})},t.decorators=[{type:e.Directive,args:[{selector:"[blScrolltop]"}]}],t.ctorParameters=function(){return[{type:i},{type:e.NgZone}]},t.propDecorators={onclick:[{type:e.HostListener,args:["click"]}]},t}(),l=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[r,s],exports:[r,s]}]}],t}();t.NgScrolltopComponent=r,t.NgScrolltopModule=l,t.NgScrolltopService=i,t.Éµa=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-scrolltop.umd.min.js.map